<aside class="w-64 p-6 h-fit bg-white shadow-lg rounded-xl space-y-8 border border-gray-200">

  <!-- Apply Button -->

<div class="text-center">
    {% if request.resolver_match.url_name == 'multi_tags_list' %}
        {% include "products/partials/clear_button.html" %}
    {% else %}
        <div
            class="w-full bg-indigo-600 text-center text-white py-2 rounded-md hover:bg-indigo-700 transition-colors font-semibold">
            Instant Filters
        </div>
    {% endif %}
</div>

  <!-- Categories -->
  <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
    <h3 class="font-semibold mb-3 text-gray-700 text-lg border-b border-gray-200 pb-2">Categories</h3>
    {% for c in categories %}
    <label class="flex items-center gap-3 mb-2 cursor-pointer hover:bg-indigo-50 p-1 rounded">
      <input type="checkbox" name="category" value="{{ c.id }}" class="filter-checkbox accent-indigo-600"
             {% if c.id in selected_categories %}checked{% endif %}>
      <span class="text-gray-800 font-medium">{{ c.name }}</span>
    </label>
    {% endfor %}
  </div>

  <!-- Brands Dropdown -->
  <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
    <h3 class="font-semibold mb-3 text-gray-700 text-lg border-b border-gray-200 pb-2">Brands</h3>
    <select name="brand" class="w-full p-2 border border-gray-300 rounded-md bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
      <option value="">-- All Brands --</option>
      {% for brand in brands %}
      <option value="{{ brand.id }}" {% if brand.id|stringformat:"s" == request.GET.brand %}selected{% endif %}>
        {{ brand.name }}
      </option>
      {% endfor %}
    </select>
  </div>

  <!-- Status -->
  <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
    <h3 class="font-semibold mb-3 text-gray-700 text-lg border-b border-gray-200 pb-2">Status</h3>
    {% for s in statuses %}
    <label class="flex items-center gap-3 mb-2 cursor-pointer hover:bg-indigo-50 p-1 rounded">
      <input type="checkbox" name="status" value="{{ s.0 }}" class="filter-checkbox accent-indigo-600"
             {% if s.0 in selected_statuses %}checked{% endif %}>
      <span class="text-gray-800 font-medium">{{ s.1 }}</span>
    </label>
    {% endfor %}
  </div>

  <!-- Price Dropdown -->
  <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
    <h3 class="font-semibold mb-3 text-gray-700 text-lg border-b border-gray-200 pb-2">Price</h3>
    <select name="price_bucket" class="w-full p-2 border border-gray-300 rounded-md bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500">
      <option value="">-- All Prices --</option>
      <option value="0_50" {% if request.GET.price_bucket == "0_50" %}selected{% endif %}>Under $50</option>
      <option value="50_100" {% if request.GET.price_bucket == "50_100" %}selected{% endif %}>$50–$100</option>
      <option value="100_200" {% if request.GET.price_bucket == "100_200" %}selected{% endif %}>$100–$200</option>
      <option value="200_500" {% if request.GET.price_bucket == "200_500" %}selected{% endif %}>$200–$500</option>
      <option value="500_800" {% if request.GET.price_bucket == "500_800" %}selected{% endif %}>$500–$800</option>
      <option value="800_1000" {% if request.GET.price_bucket == "800_1000" %}selected{% endif %}>$800–$1000</option>
    </select>
  </div>
</aside>
